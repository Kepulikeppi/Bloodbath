<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta property="og:title" content="BLOODBATH">
	<meta property="og:description" content="A browser-based shooter with procedural map generation">
	<meta property="og:type" content="website">

	<meta property="og:image" content="https://kepulikeppi.com/games/bloodbath/bloodbath-icon-small.jpg">
	<meta property="og:image:type" content="image/jpeg">
	<meta property="og:image:width" content="128">
	<meta property="og:image:height" content="128">

	<meta property="og:url" content="https://kepulikeppi.com">
    <title>BLOODBATH - MENU</title>
        
    <link rel="stylesheet" href="css/core.css">
    <link rel="stylesheet" href="css/menu.css">
    <link rel="stylesheet" href="css/music.css">
</head>
<body>

    <!-- Background Image -->
    <img id="menu-bg" src="./assets/background2.jpg" alt="Background">

    <!-- Splash Screen -->
    <div id="splash-screen">
        <div id="splash-text">+ CLICK TO INITIALIZE +</div>
		<div id="splash-subtext">(Attention: this website will play audio)</div>

        <div id="mobile-warning" style="display: none;">
            <h2>⚠ WARNING ⚠</h2>
            <p>MOBILE DEVICE DETECTED</p>
            <p class="small">Mouse & keyboard input is required.<br>This website will play audio.</p>
            <button id="mobile-continue-btn"> UNDERSTOOD. CONTINUE </button>
        </div>
    </div>

    <!-- Sidebar UI -->
    <div id="ui-layer">
        <div id="session-display">
            SESSION: <span id="session-name" class="status-none">DEFAULT</span>
            <button id="btn-logout" style="display: none;" title="End Session">[ RESET ]</button>
        </div>
        <div class="menu-top">
            <h1>BLOODBATH</h1>
			
            <div id="menu-controls">
                <button id="continue-btn" style="display: none;">CONTINUE</button>
                <button id="start-btn">NEW GAME</button>
                <button id="session-btn">SESSION</button>
				<button id="credits-btn">CREDITS</button>
            </div>
        </div>

        <!-- Music Player -->
        <div id="music-player">
            <canvas id="viz-canvas" width="250" height="50"></canvas>
            
            <div class="track-info">
                <div class="scrolling-text" id="track-name">Standby mode</div>
            </div>

            <div class="controls-row">
                <div style="display: flex; gap: 5px;">
                    <button id="btn-stop">■</button>
                    <button id="btn-play">▶</button>
                    <button id="btn-next">>></button>
                </div>
                <div class="vol-group">
                    <input type="range" id="vol-music" min="0" max="1" step="0.1" value="0.5">
                </div>
            </div>
        </div>
    </div>

	<div id="credits-overlay" style="display: none;">
        <div class="credits-box">
            <h2>// CREDITS //</h2>
            <div class="credits-content">
                <h3>DESIGN AND PROGRAMMING</h3>
                <p>Kepulikeppi</p>
                <h3>MUSIC</h3>
                <p>Kepulikeppi</p>
                <ul class="credit-list">
                    <li>Bloodbath - Main Theme</li>
                    <li>Tale of a Folk Hero</li>
                    <li>Bloodthirsty Clown</li>
                    <li>Welcome to Hell</li>
                </ul>
                <h3>TEXTURE PACKS</h3>
                <p>AmbientCG.com (Creative Commons Zero)</p>
                <h3>SOUND EFFECTS</h3>
                <p>Freesound.org (Creative Commons Zero)</p>
                <p>Pixabay.com (Creative Commons Zero)</p>
            </div>
            <button id="credits-close-btn">[ CLOSE ]</button>
        </div>
    </div>
        
    <!-- SESSION INPUT MODAL -->
    <div id="session-overlay" style="display: none;">
        <div class="session-box">
            <h2>SESSION NAME</h2>
            <p>Naming your session keeps it alive for up to 24 hours. This saves your in-game progess. The default session won't save any progress.</p>
            <p class="small-text">The game will not gather or save any personal information. The session is identified by a randomly generated ID.</p>
            <p class="small-text">You can delete the session manually by clicking on the "reset" link next to the session name.</p>
            
            <input type="text" id="session-input" maxlength="15" placeholder="ENTER A NAME..." autocomplete="off">
            
            <!-- NEW: Error Placeholder (Reserved Space) -->
            <div id="session-error-msg" class="error-placeholder"></div>

            <div class="session-buttons">
                <button id="btn-confirm-session">SAVE</button>
                <button id="btn-cancel-session">CANCEL</button>
            </div>
        </div>
    </div>

    <!-- GENERIC CONFIRMATION MODAL -->
    <div id="confirmation-overlay" style="display: none;">
        <div class="confirmation-box">
            <h2 id="confirm-title">WARNING</h2>
            <p id="confirm-message">ARE YOU SURE?</p>
            
            <div class="session-buttons">
                <button id="btn-confirm-yes">YES</button>
                <button id="btn-confirm-no">NO</button>
            </div>
        </div>
    </div>
  
    <!-- Load ONLY Menu Logic -->
    <script type="module" src="./src/menu.js"></script>
</body>
</html>